/**************************************************
* 	Copyright © 2011-2015 sakuyaa.
*	All rights reserved.
*	
*	The original code was Solar.java and Lunar.java
*	in a java calendar project, which was created
*	by sakuyaa in 2011. And convert to javascript
*	in 2015.
*	
*	https://github.com/sakuyaa/
**************************************************/
var Solar={a:new Array('星期日','星期一','星期二','星期三','星期四','星期五','星期六'),b:new Array('0101*元旦','0214情人节','0308妇女节','0312植树节','0315消费者权益日','0401愚人节','0501*劳动节','0504青年节','0512护士节','0601儿童节','0701建党节','0801建军节','0910教师节','1001*国庆节','1031万圣节前夜','1101万圣节','1111光棍节','1224平安夜','1225圣诞节'),c:new Array('0520母亲节','0630父亲节','1144感恩节'),d:function(a){return a%400==0||(a%4==0&&a%100!=0)},e:function(a){var c=0;for(var b=1900;b<a.getFullYear();b++){if(this.d(b)){c+=366}else{c+=365}}for(var b=1;b<a.getMonth()+1;b++){switch(b){case 4:case 6:case 9:case 11:c+=30;break;case 2:c+=this.d(a.getFullYear())?29:28;break;default:c+=31}}c+=a.getDate();return c},f:function(c){for(var d in this.b){if((c.getMonth()+1)*100+c.getDate()==parseInt(this.b[d].substring(0,4))){return this.b[d].substring(4)}}for(var d in this.c){var a=parseInt(this.c[d].substring(0,4));if((c.getMonth()+1)==parseInt(a/100)&&c.getDay()==a%10){var b=parseInt(a/10)%10;if(c.getDate()-(b-1)*7>0&&c.getDate()-b*7<=0){return this.c[d].substring(4)}}}return''},getSolar:function(a){var b={date:(a.getMonth()+1)+' 月'+a.getDate()+' 日 '+this.a[a.getDay()],festival:'',holiday:''};var c=this.f(a);if(c.charAt(0)=='*'){b.holiday=c.substring(1)}else{b.festival=c}return b}};var Lunar={a:new Array('小寒','大寒','立春','雨水','惊蛰','春分','清明','谷雨','立夏','小满','芒种','夏至','小暑','大暑','立秋','处暑','白露','秋分','寒露','霜降','立冬','小雪','大雪','冬至'),b:'甲乙丙丁戊己庚辛壬癸',c:'子丑寅卯辰巳午未申酉戌亥',d:'鼠牛虎兔龙蛇马羊猴鸡狗猪',e:new Array('闰','正月','二月','三月','四月','五月','六月','七月','八月','九月','十月','冬月','腊月'),f:'初一二三四五六七八九十廿',g:new Array('0101*春节','0115元宵','0202龙抬头','0303上巳节','0505*端午','0707七夕','0715中元节','0815*中秋','0909重阳','1001寒衣节','1015下元节','1208腊八节','1224小年','1230除夕'),h:1900,i:0,j:new Array(),k:1,l:1,m:true,x:{1382:-1,1393:-1,1395:-1,1408:-1,1413:1,1418:-1,1426:1,1430:-1,1483:-1,1489:1,1493:-1},y:{201111:1,201212:1,201416:1,201511:1,201615:1,201702:-1,201816:1},n:function(a){if(a in this.x){return Math.floor(1.6+29.5306*a+0.4*Math.sin(1-0.45058*a))+this.x[a]}return Math.floor(1.6+29.5306*a+0.4*Math.sin(1-0.45058*a))},o:function(b,a){if((b*100+a) in this.y){return Math.floor(365.242*(b-1900)+6.2+15.22*a-1.9*Math.sin(0.262*a))+this.y[b*100+a]}return Math.floor(365.242*(b-1900)+6.2+15.22*a-1.9*Math.sin(0.262*a))},p:function(c){for(;this.h<c+1;this.h++){var a=this.o(this.h-1,23);for(;;this.i++){if(this.n(this.i-1)<=a&&this.n(this.i)>a){break}}if(this.n(this.i+12)<=this.o(this.h,23)){for(var b=0;b<12;b++){a=this.o(this.h,2*b+1);if(this.n(this.i+b)>a||this.n(this.i+b+1)<=a){this.j.push(this.i+b);break}}}}},q:function(c){this.m=false;this.p(c.getFullYear());var b=Solar.e(c);var a=(c.getFullYear()-1900)*12-1;for(;;a++){if(this.n(a)<=b&&this.n(a+1)>b){var e=this.j.length;for(var d=0;d<e;d++){var f=this.j[d];if(f==a){this.m=true;e=d+1;break}if(f>a){e=d;break}}this.k=(a-e+11)%12+1;this.l=b-this.n(a)+1;break}}},r:function(b){var c=b.getFullYear();var a=Solar.e(b);if(a<this.o(c,2)){c--}return this.b[(c+56)%10]+this.c[(c+56)%12]+this.d[(c+56)%12]+'年 '},s:function(b){var a=Solar.e(b);for(var c=0;;c++){if(this.o(parseInt(c/12)+1899,c%12*2)>a){return this.b[c%10]+this.c[c%12]+'月 '}}},t:function(b){var a=Solar.e(b);a+=9;for(;a<0;){a+=60000}return this.b[a%10]+this.c[a%12]+'日 '},u:function(b){this.q(b);var a=this.e[this.k];if(this.l<=10){a+=this.f[0]+this.f[this.l]}else{if(this.l>10&&this.l<20){a+=this.f[10]+this.f[this.l%10]}else{if(this.l==20){a+=this.f[2]+this.f[10]}else{if(this.l==30){a+=this.f[3]+this.f[10]}else{a+=this.f[11]+this.f[this.l%10]}}}}return this.m?this.e[0]+a:a},v:function(b){var a=Solar.e(b);for(var c=0;c<24;c++){if(a==this.o(b.getFullYear(),c)){return this.a[c]}}return''},w:function(){for(var a=0;a<this.g.length;a++){if(this.k*100+this.l==parseInt(this.g[a].substring(0,4))){return this.g[a].substring(4)}}return''},getLunar:function(b){var d=this.u(b);var a=this.w();var c={date:this.r(b)+this.s(b)+this.t(b)+d,festival:this.v(b),holiday:''};if(a.charAt(0)=='*'){c.holiday=a.substring(1)}else{if(c.festival!=''){c.festival+=' '}if(d=='腊月廿九'&&this.u(new Date(b.getFullYear(),b.getMonth(),b.getDate()+1))!='腊月三十'){c.festival+='除夕'}else{c.festival+=a}}return c}};