<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>myNewTabMod by sakuyaa</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">myNewTabMod</h1>
      <h2 class="project-tagline">修改myNewTab这个扩展，使其在火狐41上实现新标签页和扩展签名</h2>
      <a href="https://github.com/sakuyaa/myNewTabMod" class="btn">View on GitHub</a>
      <a href="https://github.com/sakuyaa/myNewTabMod/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/sakuyaa/myNewTabMod/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="mynewtabmod-by-sakuyaa" class="anchor" href="#mynewtabmod-by-sakuyaa" aria-hidden="true"><span class="octicon octicon-link"></span></a>myNewTabMod by sakuyaa</h1>

<p>首先感谢一下原作者<code>defpt</code>和<code>ywzhaiqi</code><img class="emoji" title=":clap:" alt=":clap:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f44f.png" height="20" width="20" align="absmiddle">，
这个扩展是根据<a href="http://bbs.kafan.cn/thread-1759418-1-1.html">myNewTab</a>这个扩展修改而成的</p>

<h2>
<a id="主要的不同之处" class="anchor" href="#%E4%B8%BB%E8%A6%81%E7%9A%84%E4%B8%8D%E5%90%8C%E4%B9%8B%E5%A4%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>主要的不同之处</h2>

<ol>
<li>壁纸的命名还是采取壁纸的信息，且不自动删除，方便以后查看</li>
<li>实现火狐41上设置为新标签页</li>
<li>将参数存放在火狐preferences里面</li>
<li>将导航配置、壁纸等可能有改动的文件设置在profile文件夹内，实现扩展签名（<del>还要看看能不能通过先</del><img class="emoji" title=":flushed:" alt=":flushed:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f633.png" height="20" width="20" align="absmiddle">）<br>
最新消息：扩展人工审核失败<img class="emoji" title=":sob:" alt=":sob:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f62d.png" height="20" width="20" align="absmiddle">，因为我把一部分代码移出扩展外了，看来还需要大改</li>
<li>扩展重装后不会覆盖配置</li>
<li>替换日历算法为我自己编写的算法，从而准确显示父亲节<img class="emoji" title=":man:" alt=":man:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f468.png" height="20" width="20" align="absmiddle">、母亲节<img class="emoji" title=":woman:" alt=":woman:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f469.png" height="20" width="20" align="absmiddle">这样的节日</li>
<li>神秘的代码<img class="emoji" title=":underage:" alt=":underage:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f51e.png" height="20" width="20" align="absmiddle">
</li>
</ol>

<h2>
<a id="可能造成不便的地方" class="anchor" href="#%E5%8F%AF%E8%83%BD%E9%80%A0%E6%88%90%E4%B8%8D%E4%BE%BF%E7%9A%84%E5%9C%B0%E6%96%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>可能造成不便的地方</h2>

<ol>
<li>存放导航网址的数据文件data.txt中，为网址指定本地图标文件时需要以斜杠<code>/</code>开头</li>
<li>我写的农历算法由于是使用公式自动计算的缘故，可能会出现一些错误：

<ul>
<li>2011年11月23日的小雪应在22日</li>
<li>2015年8月14日-9月12日农历七月出错</li>
</ul>
</li>
<li>Bing壁纸的命名还是采取日期+壁纸的信息，不会自动删除，需要注意壁纸会一直累积下去</li>
<li>默认的导航网址中有返利链接</li>
</ol>

<h2>
<a id="扩展详细介绍" class="anchor" href="#%E6%89%A9%E5%B1%95%E8%AF%A6%E7%BB%86%E4%BB%8B%E7%BB%8D" aria-hidden="true"><span class="octicon octicon-link"></span></a>扩展详细介绍</h2>

<ul>
<li>待编辑</li>
</ul>

<h2>
<a id="尚未实现能力有限" class="anchor" href="#%E5%B0%9A%E6%9C%AA%E5%AE%9E%E7%8E%B0%E8%83%BD%E5%8A%9B%E6%9C%89%E9%99%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>尚未实现（能力有限…）</h2>

<ul>
<li>天气iframe内字体的设置（解决不了啊<img class="emoji" title=":scream:" alt=":scream:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f631.png" height="20" width="20" align="absmiddle">目前只能通过Stylish设置如下）</li>
</ul>

<div class="highlight highlight-source-css"><pre>@-moz-document domain("<span class="pl-ent">i</span><span class="pl-e">.tianqi.com</span>") {
    .<span class="pl-c1">wtleft</span> {
        <span class="pl-c1"><span class="pl-c1">color</span></span>: <span class="pl-c1">rgba</span>(<span class="pl-c1">255, 255, 255, 1</span>) <span class="pl-k">!important</span>;
        <span class="pl-c1"><span class="pl-c1">text-shadow</span></span>: <span class="pl-c1">0</span> <span class="pl-c1">1<span class="pl-k">px</span></span> <span class="pl-c1">rgba</span>(<span class="pl-c1">64, 64, 255, 0.9</span>), <span class="pl-c1">0</span> <span class="pl-c1">1<span class="pl-k">px</span></span> <span class="pl-c1">1<span class="pl-k">px</span></span> <span class="pl-c1">rgba</span>(<span class="pl-c1">64, 64, 255, 0.9</span>), <span class="pl-c1">0</span> <span class="pl-c1">-1<span class="pl-k">px</span></span> <span class="pl-c1">1<span class="pl-k">px</span></span> <span class="pl-c1">rgba</span>(<span class="pl-c1">64, 64, 255, 0.9</span>), <span class="pl-c1">1<span class="pl-k">px</span></span> <span class="pl-c1">0</span> <span class="pl-c1">1<span class="pl-k">px</span></span> <span class="pl-c1">rgba</span>(<span class="pl-c1">64, 64, 255, 0.9</span>), <span class="pl-c1">-1<span class="pl-k">px</span></span> <span class="pl-c1">0</span> <span class="pl-c1">1<span class="pl-k">px</span></span> <span class="pl-c1">rgba</span>(<span class="pl-c1">64, 64, 255, 0.9</span>), <span class="pl-c1">0</span> <span class="pl-c1">0</span> <span class="pl-c1">3<span class="pl-k">px</span></span> <span class="pl-c1">rgba</span>(<span class="pl-c1">64, 64, 255, 0.9</span>) <span class="pl-k">!important</span>;
    }
}</pre></div>

<ul>
<li>通过defaults\preferences设置扩展默认参数（试过了，不知道为什么参数不会自动导入<img class="emoji" title=":broken_heart:" alt=":broken_heart:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f494.png" height="20" width="20" align="absmiddle">）</li>
<li>
<del>将整个index.html移出扩展外，再作为iframe插入首页</del><br>
看来不可能实现了<img class="emoji" title=":worried:" alt=":worried:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f61f.png" height="20" width="20" align="absmiddle">，不然通不过扩展审核</li>
</ul>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> frm <span class="pl-k">=</span> <span class="pl-c1">document</span>.<span class="pl-c1">createElement</span>(<span class="pl-s"><span class="pl-pds">'</span>iframe<span class="pl-pds">'</span></span>);
iframe.src <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>index.html<span class="pl-pds">'</span></span>;
iframe.<span class="pl-c1">style</span>.<span class="pl-c1">width</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>100%<span class="pl-pds">'</span></span>;
iframe.<span class="pl-c1">style</span>.<span class="pl-c1">height</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>100%<span class="pl-pds">'</span></span>;
<span class="pl-c1">document</span>.<span class="pl-c1">body</span>.<span class="pl-c1">appendChild</span>(frm);</pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/sakuyaa/myNewTabMod">myNewTabMod</a> is maintained by <a href="https://github.com/sakuyaa">sakuyaa</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
